import{S as de,i as pe,s as he,e as h,w as J,k as D,c as _,a as m,x as K,m as k,d as n,b as p,g as C,y as W,M as a,q as L,o as Z,B as X,Z as _e,t as N,h as P,j as U,P as R,E as ee,_ as te,n as me,p as ve,G as be,Q as fe}from"../../../chunks/index-bed072e4.js";import{t as ue}from"../../../chunks/themes-fa5ad8e6.js";import{i as H}from"../../../chunks/iconMap-7a0cdc3f.js";import{D as Y}from"../../../chunks/Dropdown-c142f7f6.js";import{c as x,n as ge}from"../../../chunks/utils-c922859c.js";import{_ as M}from"../../../chunks/lodash-8a03b776.js";import"../../../chunks/randomColor-af782e7b.js";import"../../../chunks/v4-bf0bf616.js";function le(c,e,o){const t=c.slice();return t[12]=e[o],t}function se(c,e,o){const t=c.slice();return t[15]=e[o],t}function $e(c){let e,o,t,s,r,l=c[0].name+"",i,f,u;return{c(){e=h("button"),o=h("i"),s=D(),r=h("span"),i=N(l),f=D(),u=h("i"),this.h()},l(g){e=_(g,"BUTTON",{slot:!0,class:!0});var v=m(e);o=_(v,"I",{class:!0}),m(o).forEach(n),s=k(v),r=_(v,"SPAN",{});var b=m(r);i=P(b,l),b.forEach(n),f=k(v),u=_(v,"I",{class:!0}),m(u).forEach(n),v.forEach(n),this.h()},h(){p(o,"class",t=H[c[0].type]+" align-bottom"),p(u,"class","ri-arrow-drop-down-line align-bottom"),p(e,"slot","toggle"),p(e,"class","text-lg px-2 py-3 space-x-1 bg-white bg-opacity-10 hover:bg-opacity-80")},m(g,v){C(g,e,v),a(e,o),a(e,s),a(e,r),a(r,i),a(e,f),a(e,u)},p(g,v){v&1&&t!==(t=H[g[0].type]+" align-bottom")&&p(o,"class",t),v&1&&l!==(l=g[0].name+"")&&U(i,l)},d(g){g&&n(e)}}}function oe(c){let e,o,t,s,r,l,i,f,u,g,v,b;return{c(){e=h("div"),o=D(),t=h("div"),s=N("Table Constraints"),r=D(),l=h("div"),i=N("Table Preferences"),f=D(),u=h("div"),g=N("Open in Data Explorer"),this.h()},l(d){e=_(d,"DIV",{class:!0}),m(e).forEach(n),o=k(d),t=_(d,"DIV",{class:!0});var E=m(t);s=P(E,"Table Constraints"),E.forEach(n),r=k(d),l=_(d,"DIV",{class:!0});var S=m(l);i=P(S,"Table Preferences"),S.forEach(n),f=k(d),u=_(d,"DIV",{class:!0});var V=m(u);g=P(V,"Open in Data Explorer"),V.forEach(n),this.h()},h(){p(e,"class","border-t border-zinc-200"),p(t,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer"),p(l,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer"),p(u,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer")},m(d,E){C(d,e,E),C(d,o,E),C(d,t,E),a(t,s),C(d,r,E),C(d,l,E),a(l,i),C(d,f,E),C(d,u,E),a(u,g),v||(b=R(u,"click",c[2]),v=!0)},p:ee,d(d){d&&n(e),d&&n(o),d&&n(t),d&&n(r),d&&n(l),d&&n(f),d&&n(u),v=!1,b()}}}function ie(c){let e,o,t,s,r,l;return{c(){e=h("div"),o=D(),t=h("div"),s=N("View SQL Query"),this.h()},l(i){e=_(i,"DIV",{class:!0}),m(e).forEach(n),o=k(i),t=_(i,"DIV",{class:!0});var f=m(t);s=P(f,"View SQL Query"),f.forEach(n),this.h()},h(){p(e,"class","border-t border-zinc-200"),p(t,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer")},m(i,f){C(i,e,f),C(i,o,f),C(i,t,f),a(t,s),r||(l=R(t,"click",c[3]),r=!0)},p:ee,d(i){i&&n(e),i&&n(o),i&&n(t),r=!1,l()}}}function Ee(c){let e,o,t,s=M.startCase(c[0].type)+"",r,l,i,f,u=M.startCase(c[0].type)+"",g,v,b,d,E,S,V,A,F,B,j,I=M.startCase(c[0].type)+"",T,$=c[0].type=="table"&&oe(c),y=c[0].type=="view"&&ie(c);return{c(){e=h("div"),o=h("div"),t=N("Rename "),r=N(s),l=D(),i=h("div"),f=N("Duplicate "),g=N(u),v=D(),$&&$.c(),b=D(),y&&y.c(),d=D(),E=h("div"),S=D(),V=h("div"),A=h("i"),F=D(),B=h("span"),j=N("Delete "),T=N(I),this.h()},l(z){e=_(z,"DIV",{slot:!0});var w=m(e);o=_(w,"DIV",{class:!0});var O=m(o);t=P(O,"Rename "),r=P(O,s),O.forEach(n),l=k(w),i=_(w,"DIV",{class:!0});var G=m(i);f=P(G,"Duplicate "),g=P(G,u),G.forEach(n),v=k(w),$&&$.l(w),b=k(w),y&&y.l(w),d=k(w),E=_(w,"DIV",{class:!0}),m(E).forEach(n),S=k(w),V=_(w,"DIV",{class:!0});var q=m(V);A=_(q,"I",{class:!0}),m(A).forEach(n),F=k(q),B=_(q,"SPAN",{});var Q=m(B);j=P(Q,"Delete "),T=P(Q,I),Q.forEach(n),q.forEach(n),w.forEach(n),this.h()},h(){p(o,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer"),p(i,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 bg-zinc-200 cursor-pointer"),p(E,"class","border-t border-zinc-200"),p(A,"class","ri-delete-bin-line align-bottom"),p(V,"class","px-2 py-1 hover:bg-opacity-40 bg-opacity-0 space-x-1 bg-zinc-200 cursor-pointer"),p(e,"slot","menu")},m(z,w){C(z,e,w),a(e,o),a(o,t),a(o,r),a(e,l),a(e,i),a(i,f),a(i,g),a(e,v),$&&$.m(e,null),a(e,b),y&&y.m(e,null),a(e,d),a(e,E),a(e,S),a(e,V),a(V,A),a(V,F),a(V,B),a(B,j),a(B,T)},p(z,w){w&1&&s!==(s=M.startCase(z[0].type)+"")&&U(r,s),w&1&&u!==(u=M.startCase(z[0].type)+"")&&U(g,u),z[0].type=="table"?$?$.p(z,w):($=oe(z),$.c(),$.m(e,b)):$&&($.d(1),$=null),z[0].type=="view"?y?y.p(z,w):(y=ie(z),y.c(),y.m(e,d)):y&&(y.d(1),y=null),w&1&&I!==(I=M.startCase(z[0].type)+"")&&U(T,I)},d(z){z&&n(e),$&&$.d(),y&&y.d()}}}function ye(c){let e,o,t,s;return{c(){e=h("button"),o=h("i"),t=N(`
      Filter `),s=h("i"),this.h()},l(r){e=_(r,"BUTTON",{slot:!0,class:!0});var l=m(e);o=_(l,"I",{class:!0}),m(o).forEach(n),t=P(l,`
      Filter `),s=_(l,"I",{class:!0}),m(s).forEach(n),l.forEach(n),this.h()},h(){p(o,"class","ri-filter-fill align-bottom"),p(s,"class","ri-arrow-drop-down-line align-bottom"),p(e,"slot","toggle"),p(e,"class","border "+ue.mediumBorderColor+" p-1 rounded")},m(r,l){C(r,e,l),a(e,o),a(e,t),a(e,s)},p:ee,d(r){r&&n(e)}}}function we(c){let e,o,t,s,r,l,i=c[0].filter.column.name+"",f,u,g;return{c(){e=h("div"),o=h("div"),t=h("i"),r=D(),l=h("span"),f=N(i),u=D(),g=h("i"),this.h()},l(v){e=_(v,"DIV",{slot:!0,class:!0});var b=m(e);o=_(b,"DIV",{class:!0});var d=m(o);t=_(d,"I",{class:!0}),m(t).forEach(n),r=k(d),l=_(d,"SPAN",{});var E=m(l);f=P(E,i),E.forEach(n),d.forEach(n),u=k(b),g=_(b,"I",{class:!0}),m(g).forEach(n),b.forEach(n),this.h()},h(){p(t,"class",s="align-bottom border text-center "+H[c[0].filter.column.type]+" rounded"),p(o,"class","flex-grow space-x-1"),p(g,"class","ri-arrow-drop-down-line align-bottom"),p(e,"slot","toggle"),p(e,"class","cursor-pointer bg-zinc-100 border border-zinc-300 p-2 rounded flex items-center")},m(v,b){C(v,e,b),a(e,o),a(o,t),a(o,r),a(o,l),a(l,f),a(e,u),a(e,g)},p(v,b){b&1&&s!==(s="align-bottom border text-center "+H[v[0].filter.column.type]+" rounded")&&p(t,"class",s),b&1&&i!==(i=v[0].filter.column.name+"")&&U(f,i)},d(v){v&&n(e)}}}function re(c){let e,o,t,s,r,l=c[15].name+"",i,f,u,g;function v(){return c[6](c[15])}return{c(){e=h("div"),o=h("i"),s=D(),r=h("span"),i=N(l),f=D(),this.h()},l(b){e=_(b,"DIV",{class:!0});var d=m(e);o=_(d,"I",{class:!0}),m(o).forEach(n),s=k(d),r=_(d,"SPAN",{});var E=m(r);i=P(E,l),E.forEach(n),f=k(d),d.forEach(n),this.h()},h(){p(o,"class",t=H[c[15].type]+" align-bottom border rounded"),p(e,"class","hover:bg-opacity-80 bg-opacity-0 cursor-pointer bg-zinc-50 space-x-1 p-2")},m(b,d){C(b,e,d),a(e,o),a(e,s),a(e,r),a(r,i),a(e,f),u||(g=R(e,"click",v),u=!0)},p(b,d){c=b,d&1&&t!==(t=H[c[15].type]+" align-bottom border rounded")&&p(o,"class",t),d&1&&l!==(l=c[15].name+"")&&U(i,l)},d(b){b&&n(e),u=!1,g()}}}function Ie(c){let e,o=c[0].columns,t=[];for(let s=0;s<o.length;s+=1)t[s]=re(se(c,o,s));return{c(){e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=_(s,"DIV",{slot:!0});var r=m(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(n),this.h()},h(){p(e,"slot","menu")},m(s,r){C(s,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(s,r){if(r&1){o=s[0].columns;let l;for(l=0;l<o.length;l+=1){const i=se(s,o,l);t[l]?t[l].p(i,r):(t[l]=re(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(s){s&&n(e),fe(t,s)}}}function ne(c){let e,o;return e=new Y({props:{$$slots:{menu:[ke],toggle:[De]},$$scope:{ctx:c}}}),{c(){J(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,s){W(e,t,s),o=!0},p(t,s){const r={};s&262145&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){o||(L(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){X(e,t)}}}function De(c){let e,o,t=c[0].filter.condition+"",s,r,l;return{c(){e=h("div"),o=h("span"),s=N(t),r=D(),l=h("i"),this.h()},l(i){e=_(i,"DIV",{slot:!0,class:!0});var f=m(e);o=_(f,"SPAN",{});var u=m(o);s=P(u,t),u.forEach(n),r=k(f),l=_(f,"I",{class:!0}),m(l).forEach(n),f.forEach(n),this.h()},h(){p(l,"class","ri-arrow-drop-down-line align-bottom"),p(e,"slot","toggle"),p(e,"class","cursor-pointer border bg-zinc-100 border-zinc-300 space-x-1 p-2 flex items-center whitespace-nowrap rounded")},m(i,f){C(i,e,f),a(e,o),a(o,s),a(e,r),a(e,l)},p(i,f){f&1&&t!==(t=i[0].filter.condition+"")&&U(s,t)},d(i){i&&n(e)}}}function ae(c){let e,o,t=c[12]+"",s,r,l,i;function f(){return c[7](c[12])}return{c(){e=h("div"),o=h("span"),s=N(t),r=D(),this.h()},l(u){e=_(u,"DIV",{class:!0});var g=m(e);o=_(g,"SPAN",{});var v=m(o);s=P(v,t),v.forEach(n),r=k(g),g.forEach(n),this.h()},h(){p(e,"class","hover:bg-opacity-80 bg-opacity-0 cursor-pointer bg-zinc-50 space-x-1 p-2")},m(u,g){C(u,e,g),a(e,o),a(o,s),a(e,r),l||(i=R(e,"click",f),l=!0)},p(u,g){c=u,g&1&&t!==(t=c[12]+"")&&U(s,t)},d(u){u&&n(e),l=!1,i()}}}function ke(c){let e,o=x[c[0].filter.column.type],t=[];for(let s=0;s<o.length;s+=1)t[s]=ae(le(c,o,s));return{c(){e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=_(s,"DIV",{slot:!0});var r=m(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(n),this.h()},h(){p(e,"slot","menu")},m(s,r){C(s,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(s,r){if(r&1){o=x[s[0].filter.column.type];let l;for(l=0;l<o.length;l+=1){const i=le(s,o,l);t[l]?t[l].p(i,r):(t[l]=ae(i),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(s){s&&n(e),fe(t,s)}}}function ce(c){let e,o,t;return{c(){e=h("input"),this.h()},l(s){e=_(s,"INPUT",{class:!0,type:!0}),this.h()},h(){p(e,"class","bg-zinc-100 border border-zinc-300 p-2 rounded w-full"),p(e,"type","text")},m(s,r){C(s,e,r),te(e,c[0].filter.value),o||(t=R(e,"input",c[8]),o=!0)},p(s,r){r&1&&e.value!==s[0].filter.value&&te(e,s[0].filter.value)},d(s){s&&n(e),o=!1,t()}}}function Ve(c){let e,o,t,s,r,l,i,f,u,g,v,b,d,E,S,V,A,F,B,j;E=new Y({props:{$$slots:{menu:[Ie],toggle:[we]},$$scope:{ctx:c}}});let I=c[0].filter.condition&&ne(c),T=c[0].filter.value!==void 0&&ce(c);return{c(){e=h("div"),o=h("button"),t=h("i"),s=N(" Add Filter"),r=D(),l=h("div"),i=h("div"),f=h("div"),u=N("Column"),g=D(),v=h("button"),b=h("i"),d=D(),J(E.$$.fragment),S=D(),V=h("div"),I&&I.c(),A=D(),T&&T.c(),this.h()},l($){e=_($,"DIV",{slot:!0,class:!0});var y=m(e);o=_(y,"BUTTON",{class:!0});var z=m(o);t=_(z,"I",{class:!0}),m(t).forEach(n),s=P(z," Add Filter"),z.forEach(n),r=k(y),l=_(y,"DIV",{class:!0});var w=m(l);i=_(w,"DIV",{class:!0});var O=m(i);f=_(O,"DIV",{class:!0});var G=m(f);u=P(G,"Column"),G.forEach(n),g=k(O),v=_(O,"BUTTON",{});var q=m(v);b=_(q,"I",{class:!0}),m(b).forEach(n),q.forEach(n),O.forEach(n),d=k(w),K(E.$$.fragment,w),S=k(w),V=_(w,"DIV",{class:!0});var Q=m(V);I&&I.l(Q),A=k(Q),T&&T.l(Q),Q.forEach(n),w.forEach(n),y.forEach(n),this.h()},h(){p(t,"class","ri-add-line align-bottom"),p(o,"class","p-1 bg-zinc-50 w-full rounded"),p(f,"class","font-semibold flex-grow"),p(b,"class","ri-delete-bin-line align-bottom"),p(i,"class","flex items-center"),p(V,"class","flex items-center space-x-2"),p(l,"class","rounded p-2 text-sm space-y-2"),p(e,"slot","menu"),p(e,"class","p-2 space-y-2")},m($,y){C($,e,y),a(e,o),a(o,t),a(o,s),a(e,r),a(e,l),a(l,i),a(i,f),a(f,u),a(i,g),a(i,v),a(v,b),a(l,d),W(E,l,null),a(l,S),a(l,V),I&&I.m(V,null),a(V,A),T&&T.m(V,null),F=!0,B||(j=[R(o,"click",c[4]),R(v,"click",c[5])],B=!0)},p($,y){const z={};y&262145&&(z.$$scope={dirty:y,ctx:$}),E.$set(z),$[0].filter.condition?I?(I.p($,y),y&1&&L(I,1)):(I=ne($),I.c(),L(I,1),I.m(V,A)):I&&(me(),Z(I,1,1,()=>{I=null}),ve()),$[0].filter.value!==void 0?T?T.p($,y):(T=ce($),T.c(),T.m(V,null)):T&&(T.d(1),T=null)},i($){F||(L(E.$$.fragment,$),L(I),F=!0)},o($){Z(E.$$.fragment,$),Z(I),F=!1},d($){$&&n(e),X(E),I&&I.d(),T&&T.d(),B=!1,be(j)}}}function ze(c){let e,o,t,s,r;return o=new Y({props:{$$slots:{menu:[Ee],toggle:[$e]},$$scope:{ctx:c}}}),s=new Y({props:{$$slots:{menu:[Ve],toggle:[ye]},$$scope:{ctx:c}}}),{c(){e=h("div"),J(o.$$.fragment),t=D(),J(s.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var i=m(e);K(o.$$.fragment,i),t=k(i),K(s.$$.fragment,i),i.forEach(n),this.h()},h(){p(e,"class","text-zinc-800 flex items-center space-x-3 border-b "+ue.darkBackgroundColor+" bg-opacity-40 border-zinc-200")},m(l,i){C(l,e,i),W(o,e,null),a(e,t),W(s,e,null),r=!0},p(l,[i]){const f={};i&262145&&(f.$$scope={dirty:i,ctx:l}),o.$set(f);const u={};i&262145&&(u.$$scope={dirty:i,ctx:l}),s.$set(u)},i(l){r||(L(o.$$.fragment,l),L(s.$$.fragment,l),r=!0)},o(l){Z(o.$$.fragment,l),Z(s.$$.fragment,l),r=!1},d(l){l&&n(e),X(o),X(s)}}}function Ce(c,e,o){let{table:t}=e;t.filter={column:t.columns[0],condition:x[t.columns[0].type][0],value:""};const s=_e(),r=()=>s("CreateView",ge(t)),l=()=>s("openQuery"),i=()=>s("addFilter",t),f=()=>s("deleteFilter",t),u=b=>o(0,t.filter.column=b,t),g=b=>o(0,t.filter.condition=b,t);function v(){t.filter.value=this.value,o(0,t)}return c.$$set=b=>{"table"in b&&o(0,t=b.table)},[t,s,r,l,i,f,u,g,v]}class Qe extends de{constructor(e){super();pe(this,e,Ce,ze,he,{table:0})}}export{Qe as default};
