import{S as M,i as Q,s as Z,e as v,t as I,c as _,a as b,h as T,d as m,b as p,g as S,M as i,k as w,w as F,m as x,x as G,y as H,q as J,o as K,B as W,Z as X,j as B,P as Y,Q as ee}from"../../../../chunks/index-bed072e4.js";import{D as te}from"../../../../chunks/Dropdown-c142f7f6.js";import{t as U}from"../../../../chunks/themes-fa5ad8e6.js";function P(c,e,t){const o=c.slice();return o[4]=e[t],o}function le(c){let e,t,o,f,r=(c[1].baseTable?c[1].baseTable.name:"Select Base Table")+"",h,d,n;return{c(){e=v("div"),t=v("i"),o=w(),f=v("span"),h=I(r),d=w(),n=v("i"),this.h()},l(l){e=_(l,"DIV",{slot:!0,class:!0});var s=b(e);t=_(s,"I",{class:!0}),b(t).forEach(m),o=x(s),f=_(s,"SPAN",{});var a=b(f);h=T(a,r),a.forEach(m),d=x(s),n=_(s,"I",{class:!0}),b(n).forEach(m),s.forEach(m),this.h()},h(){p(t,"class","ri-table-line align-bottom"),p(n,"class","ri-arrow-drop-down-line align-bottom"),p(e,"slot","toggle"),p(e,"class",U.mediumBorderColor+" border px-2 py-1 rounded cursor-pointer space-x-1")},m(l,s){S(l,e,s),i(e,t),i(e,o),i(e,f),i(f,h),i(e,d),i(e,n)},p(l,s){s&2&&r!==(r=(l[1].baseTable?l[1].baseTable.name:"Select Base Table")+"")&&B(h,r)},d(l){l&&m(e)}}}function j(c){let e,t,o,f,r,h=c[4].name+"",d,n,l,s=c[4].records.length+"",a,u,g=c[4].columns.length+"",D,C,$,z,N;function L(){return c[3](c[4])}return{c(){e=v("div"),t=v("div"),o=v("i"),f=w(),r=v("span"),d=I(h),n=w(),l=v("div"),a=I(s),u=I(" Records "),D=I(g),C=I(" Columns"),$=w(),this.h()},l(V){e=_(V,"DIV",{class:!0});var E=b(e);t=_(E,"DIV",{class:!0});var y=b(t);o=_(y,"I",{class:!0}),b(o).forEach(m),f=x(y),r=_(y,"SPAN",{});var O=b(r);d=T(O,h),O.forEach(m),y.forEach(m),n=x(E),l=_(E,"DIV",{class:!0});var k=b(l);a=T(k,s),u=T(k," Records "),D=T(k,g),C=T(k," Columns"),k.forEach(m),$=x(E),E.forEach(m),this.h()},h(){p(o,"class","ri-table-line align-bottom"),p(t,"class","space-x-1"),p(l,"class","text-xs text-zinc-500"),p(e,"class","p-2 hover:bg-indigo-100 border-t cursor-pointer")},m(V,E){S(V,e,E),i(e,t),i(t,o),i(t,f),i(t,r),i(r,d),i(e,n),i(e,l),i(l,a),i(l,u),i(l,D),i(l,C),i(e,$),z||(N=Y(e,"click",L),z=!0)},p(V,E){c=V,E&1&&h!==(h=c[4].name+"")&&B(d,h),E&1&&s!==(s=c[4].records.length+"")&&B(a,s),E&1&&g!==(g=c[4].columns.length+"")&&B(D,g)},d(V){V&&m(e),z=!1,N()}}}function se(c){let e,t,o,f,r,h,d=R(c[0].tables,A),n=[];for(let l=0;l<d.length;l+=1)n[l]=j(P(c,d,l));return{c(){e=v("div"),t=v("div"),o=v("i"),f=w(),r=v("input"),h=w();for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=_(l,"DIV",{slot:!0});var s=b(e);t=_(s,"DIV",{class:!0});var a=b(t);o=_(a,"I",{class:!0}),b(o).forEach(m),f=x(a),r=_(a,"INPUT",{type:!0,class:!0,placeholder:!0}),a.forEach(m),h=x(s);for(let u=0;u<n.length;u+=1)n[u].l(s);s.forEach(m),this.h()},h(){p(o,"class","ri-search-line align-bottom px-1 text-zinc-500"),p(r,"type","text"),p(r,"class","bg-zinc-100 bg-opacity-40 flex-grow p-1 text-sm"),p(r,"placeholder","Search Tables"),p(t,"class","border flex items-center flex-grow border rounded overflow-hidden m-2"),p(e,"slot","menu")},m(l,s){S(l,e,s),i(e,t),i(t,o),i(t,f),i(t,r),i(e,h);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,s){if(s&5){d=R(l[0].tables,A);let a;for(a=0;a<d.length;a+=1){const u=P(l,d,a);n[a]?n[a].p(u,s):(n[a]=j(u),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=d.length}},d(l){l&&m(e),ee(n,l)}}}function q(c){let e,t,o;return{c(){e=v("div"),t=v("button"),o=I("Open Table"),this.h()},l(f){e=_(f,"DIV",{});var r=b(e);t=_(r,"BUTTON",{class:!0});var h=b(t);o=T(h,"Open Table"),h.forEach(m),r.forEach(m),this.h()},h(){p(t,"class","border py-1 px-2 rounded bg-zinc-50")},m(f,r){S(f,e,r),i(e,t),i(t,o)},d(f){f&&m(e)}}}function ae(c){let e,t,o,f,r,h,d,n,l;r=new te({props:{closeOnClick:!0,full:!1,width:"w-96",$$slots:{menu:[se],toggle:[le]},$$scope:{ctx:c}}});let s=c[1].baseTable&&q();return{c(){e=v("div"),t=v("div"),o=I("Exploring"),f=w(),F(r.$$.fragment),h=w(),s&&s.c(),d=w(),n=v("div"),this.h()},l(a){e=_(a,"DIV",{class:!0});var u=b(e);t=_(u,"DIV",{class:!0});var g=b(t);o=T(g,"Exploring"),g.forEach(m),f=x(u),G(r.$$.fragment,u),h=x(u),s&&s.l(u),d=x(u),n=_(u,"DIV",{class:!0});var D=b(n);D.forEach(m),u.forEach(m),this.h()},h(){p(t,"class","font-semibold"),p(n,"class","flex justify-end flex-grow"),p(e,"class",U.darkBackgroundColor+" border-b-2 bg-opacity-20 text-zinc-800 p-2 flex items-center space-x-3")},m(a,u){S(a,e,u),i(e,t),i(t,o),i(e,f),H(r,e,null),i(e,h),s&&s.m(e,null),i(e,d),i(e,n),l=!0},p(a,[u]){const g={};u&131&&(g.$$scope={dirty:u,ctx:a}),r.$set(g),a[1].baseTable?s||(s=q(),s.c(),s.m(e,d)):s&&(s.d(1),s=null)},i(a){l||(J(r.$$.fragment,a),l=!0)},o(a){K(r.$$.fragment,a),l=!1},d(a){a&&m(e),W(r),s&&s.d()}}}let A="";function R(c,e){return e.trim()?c.filter(t=>t.name.toLowerCase().includes(e)):c}function re(c,e,t){const o=X();let{entities:f}=e,{selectedView:r}=e;const h=d=>o("tableSelected",d);return c.$$set=d=>{"entities"in d&&t(0,f=d.entities),"selectedView"in d&&t(1,r=d.selectedView)},[f,r,o,h]}class ce extends M{constructor(e){super();Q(this,e,re,ae,Z,{entities:0,selectedView:1})}}export{ce as default};
