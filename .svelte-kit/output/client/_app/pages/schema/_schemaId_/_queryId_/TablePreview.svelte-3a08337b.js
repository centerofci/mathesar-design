import{S as x,i as $,s as ee,e as g,k as P,t as Q,c as b,a as k,d as u,m as S,h as R,b as v,g as V,M as p,P as Y,j as q,Q as M,aa as le,E as Z,Z as te,l as T}from"../../../../chunks/index-bed072e4.js";import{t as y}from"../../../../chunks/themes-fa5ad8e6.js";import{i as L}from"../../../../chunks/iconMap-7a0cdc3f.js";import{g as F}from"../../../../chunks/utils-c922859c.js";import"../../../../chunks/lodash-8a03b776.js";import"../../../../chunks/randomColor-af782e7b.js";import"../../../../chunks/v4-bf0bf616.js";function G(c,e,s){const r=c.slice();return r[6]=e[s],r[8]=s,r}function H(c,e,s){const r=c.slice();return r[9]=e[s],r[11]=s,r}function J(c,e,s){const r=c.slice();return r[12]=e[s],r}function K(c,e,s){const r=c.slice();return r[15]=e[s],r}function O(c){let e,s,r,o,l,t,i,d,D,z,C,B=c[15].alias+"",E,_,I,m,j;function n(){return c[3](c[15])}return{c(){e=g("div"),s=g("div"),r=g("span"),o=g("i"),t=P(),i=g("i"),z=P(),C=g("span"),E=Q(B),I=P(),this.h()},l(h){e=b(h,"DIV",{class:!0});var f=k(e);s=b(f,"DIV",{class:!0});var a=k(s);r=b(a,"SPAN",{class:!0});var w=k(r);o=b(w,"I",{class:!0}),k(o).forEach(u),t=S(w),i=b(w,"I",{class:!0}),k(i).forEach(u),w.forEach(u),z=S(a),C=b(a,"SPAN",{});var N=k(C);E=R(N,B),N.forEach(u),a.forEach(u),I=S(f),f.forEach(u),this.h()},h(){v(o,"class",l=L[c[15].type]),v(i,"class",d=L[c[15].aggregation]),v(r,"class",D=c[15].source.table.color+" leading-4 px-1 inline-block text-center rounded text-xs"),v(s,"class",_=(c[0].column==c[15]?y.lightBackgroundColor:y.mediumBackgroundColor)+" whitespace-nowrap cursor-pointer h-full p-2 space-x-1"),v(e,"class","border-r w-64 border-zinc-200")},m(h,f){V(h,e,f),p(e,s),p(s,r),p(r,o),p(r,t),p(r,i),p(s,z),p(s,C),p(C,E),p(e,I),m||(j=Y(s,"click",n),m=!0)},p(h,f){c=h,f&2&&l!==(l=L[c[15].type])&&v(o,"class",l),f&2&&d!==(d=L[c[15].aggregation])&&v(i,"class",d),f&2&&D!==(D=c[15].source.table.color+" leading-4 px-1 inline-block text-center rounded text-xs")&&v(r,"class",D),f&2&&B!==(B=c[15].alias+"")&&q(E,B),f&3&&_!==(_=(c[0].column==c[15]?y.lightBackgroundColor:y.mediumBackgroundColor)+" whitespace-nowrap cursor-pointer h-full p-2 space-x-1")&&v(s,"class",_)},d(h){h&&u(e),m=!1,j()}}}function oe(c){let e=c[9]+"",s;return{c(){s=Q(e)},l(r){s=R(r,e)},m(r,o){V(r,s,o)},p(r,o){o&4&&e!==(e=r[9]+"")&&q(s,e)},d(r){r&&u(s)}}}function re(c){let e,s;function r(t,i){return i&4&&(e=null),e==null&&(e=!!Array.isArray(t[9])),e?ce:se}let o=r(c,-1),l=o(c);return{c(){l.c(),s=T()},l(t){l.l(t),s=T()},m(t,i){l.m(t,i),V(t,s,i)},p(t,i){o===(o=r(t,i))&&l?l.p(t,i):(l.d(1),l=o(t),l&&(l.c(),l.m(s.parentNode,s)))},d(t){l.d(t),t&&u(s)}}}function se(c){let e,s=c[9]+"",r,o;return{c(){e=g("div"),r=Q(s),this.h()},l(l){e=b(l,"DIV",{class:!0});var t=k(e);r=R(t,s),t.forEach(u),this.h()},h(){v(e,"class",o="inline-block mr-1 px-2 rounded-xl bg-["+c[1].columns[c[11]].source.table.color+"] bg-opacity-30")},m(l,t){V(l,e,t),p(e,r)},p(l,t){t&4&&s!==(s=l[9]+"")&&q(r,s),t&2&&o!==(o="inline-block mr-1 px-2 rounded-xl bg-["+l[1].columns[l[11]].source.table.color+"] bg-opacity-30")&&v(e,"class",o)},d(l){l&&u(e)}}}function ce(c){let e,s=c[9],r=[];for(let o=0;o<s.length;o+=1)r[o]=U(J(c,s,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=T()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=T()},m(o,l){for(let t=0;t<r.length;t+=1)r[t].m(o,l);V(o,e,l)},p(o,l){if(l&6){s=o[9];let t;for(t=0;t<s.length;t+=1){const i=J(o,s,t);r[t]?r[t].p(i,l):(r[t]=U(i),r[t].c(),r[t].m(e.parentNode,e))}for(;t<r.length;t+=1)r[t].d(1);r.length=s.length}},d(o){M(r,o),o&&u(e)}}}function U(c){let e,s=c[12]+"",r,o;return{c(){e=g("div"),r=Q(s),this.h()},l(l){e=b(l,"DIV",{class:!0});var t=k(e);r=R(t,s),t.forEach(u),this.h()},h(){v(e,"class",o="inline-block mr-1 px-2 rounded-xl bg-["+c[1].columns[c[11]].source.table.color+"] bg-opacity-30")},m(l,t){V(l,e,t),p(e,r)},p(l,t){t&4&&s!==(s=l[12]+"")&&q(r,s),t&2&&o!==(o="inline-block mr-1 px-2 rounded-xl bg-["+l[1].columns[l[11]].source.table.color+"] bg-opacity-30")&&v(e,"class",o)},d(l){l&&u(e)}}}function W(c){let e,s;function r(t,i){return t[1].columns[t[11]].aggregation=="List"?re:oe}let o=r(c),l=o(c);return{c(){e=g("div"),l.c(),this.h()},l(t){e=b(t,"DIV",{class:!0});var i=k(e);l.l(i),i.forEach(u),this.h()},h(){v(e,"class",s="w-64 border-r space-y-1 border-zinc-200 p-2 "+(F(c[1],c[0].column)==c[11]?y.darkBackgroundColor:""))},m(t,i){V(t,e,i),l.m(e,null)},p(t,i){o===(o=r(t))&&l?l.p(t,i):(l.d(1),l=o(t),l&&(l.c(),l.m(e,null))),i&3&&s!==(s="w-64 border-r space-y-1 border-zinc-200 p-2 "+(F(t[1],t[0].column)==t[11]?y.darkBackgroundColor:""))&&v(e,"class",s)},d(t){t&&u(e),l.d()}}}function X(c){let e,s,r=c[6],o=[];for(let l=0;l<r.length;l+=1)o[l]=W(H(c,r,l));return{c(){e=g("div");for(let l=0;l<o.length;l+=1)o[l].c();s=P(),this.h()},l(l){e=b(l,"DIV",{class:!0});var t=k(e);for(let i=0;i<o.length;i+=1)o[i].l(t);s=S(t),t.forEach(u),this.h()},h(){v(e,"class","flex border-b border-zinc-200")},m(l,t){V(l,e,t);for(let i=0;i<o.length;i+=1)o[i].m(e,null);p(e,s)},p(l,t){if(t&7){r=l[6];let i;for(i=0;i<r.length;i+=1){const d=H(l,r,i);o[i]?o[i].p(d,t):(o[i]=W(d),o[i].c(),o[i].m(e,s))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(l){l&&u(e),M(o,l)}}}function ie(c){var j;let e,s,r,o,l,t,i,d=(((j=c[1].records)==null?void 0:j.length)||0)+"",D,z,C,B,E=c[1].columns,_=[];for(let n=0;n<E.length;n+=1)_[n]=O(K(c,E,n));let I=c[2],m=[];for(let n=0;n<I.length;n+=1)m[n]=X(G(c,I,n));return{c(){e=g("div"),s=g("div");for(let n=0;n<_.length;n+=1)_[n].c();r=P(),o=g("div"),l=g("div");for(let n=0;n<m.length;n+=1)m[n].c();t=P(),i=g("div"),D=Q(d),z=Q(" Records"),this.h()},l(n){e=b(n,"DIV",{class:!0});var h=k(e);s=b(h,"DIV",{class:!0});var f=k(s);for(let A=0;A<_.length;A+=1)_[A].l(f);f.forEach(u),r=S(h),o=b(h,"DIV",{class:!0});var a=k(o);l=b(a,"DIV",{});var w=k(l);for(let A=0;A<m.length;A+=1)m[A].l(w);w.forEach(u),a.forEach(u),h.forEach(u),t=S(n),i=b(n,"DIV",{class:!0});var N=k(i);D=R(N,d),z=R(N," Records"),N.forEach(u),this.h()},h(){v(s,"class","flex w-max items-stretch"),v(o,"class","flex w-max items-stretch"),v(e,"class","overflow-scroll border-t flex-grow "+y.darkBackgroundColor+" bg-opacity-10 border-zinc-200"),v(i,"class","border-zinc-200 border-t p-2 "+y.darkBackgroundColor)},m(n,h){V(n,e,h),p(e,s);for(let f=0;f<_.length;f+=1)_[f].m(s,null);p(e,r),p(e,o),p(o,l);for(let f=0;f<m.length;f+=1)m[f].m(l,null);V(n,t,h),V(n,i,h),p(i,D),p(i,z),C||(B=Y(e,"click",le(c[4])),C=!0)},p(n,[h]){var f;if(h&3){E=n[1].columns;let a;for(a=0;a<E.length;a+=1){const w=K(n,E,a);_[a]?_[a].p(w,h):(_[a]=O(w),_[a].c(),_[a].m(s,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=E.length}if(h&7){I=n[2];let a;for(a=0;a<I.length;a+=1){const w=G(n,I,a);m[a]?m[a].p(w,h):(m[a]=X(w),m[a].c(),m[a].m(l,null))}for(;a<m.length;a+=1)m[a].d(1);m.length=I.length}h&2&&d!==(d=(((f=n[1].records)==null?void 0:f.length)||0)+"")&&q(D,d)},i:Z,o:Z,d(n){n&&u(e),M(_,n),M(m,n),n&&u(t),n&&u(i),C=!1,B()}}}function ne(c,e,s){te();let{selectedView:r}=e,{inspector:o}=e,{records:l}=e;const t=d=>s(0,o={action:"Column",column:d}),i=()=>s(0,o={action:"Query Details"});return c.$$set=d=>{"selectedView"in d&&s(1,r=d.selectedView),"inspector"in d&&s(0,o=d.inspector),"records"in d&&s(2,l=d.records)},[o,r,l,t,i]}class ve extends x{constructor(e){super();$(this,e,ne,ie,ee,{selectedView:1,inspector:0,records:2})}}export{ve as default};
